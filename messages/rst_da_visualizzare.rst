#######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
Reform:  riforma_detrazioni_per_conigue_a_carico_reddito_inferiore_15000
#######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################

#######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
Full name or description
#######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################

Riforma per aumentare il moltiplicatore del quoziente per consentire una detrazione maggiore a chi possiede un reddito compreso tra 0 e 15000


Reform Actions 
***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************

- **Action 1** : update_variable

#######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 Variable: detrazioni_per_conigue_a_carico_reddito_inferiore_15000
#######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################

#######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################
 Properties 
#######################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################################

Il ``tipo`` di questa variabile è: **float**

L'``entità`` a cui questa variabile appartiene è: **Person**

Il ``periodo`` di definizione di questa varabile è: **year**

Il ``set_input`` di questa variabile vale: **set_input_divide_by_period**

La ``descrizione`` della varabile è: 

.. code-block:: rst

 Formula per detrazioni dovute per coniuge a carico basata sul reddito per detrazioni

`Riferimento legislativo alla variabile <http://www.agenziaentrate.gov.it/wps/file/Nsilib/Nsi/Schede/Dichiarazioni/Redditi+Persone+fisiche+2018/Modello+e+istruzioni+Redditi+PF2018/Istruzioni+Redditi+Pf+-+Fascicolo+1+2018/PF1_istruzioni_2018_Ret.pdf>`__

La ``formula`` in codice è la seguente: 

.. code:: python

  def formula(person,period,parameters):
   quoziente = round_((person('reddito_per_detrazioni',period) / 15000),4)
   mesi_coniuge_a_carico = person('mesi_coniuge_a_carico',period)
   detrazione_spettante = round_(((800-(50*quoziente)) * (mesi_coniuge_a_carico/12)),2)
   return where(quoziente==0,0,detrazione_spettante)



