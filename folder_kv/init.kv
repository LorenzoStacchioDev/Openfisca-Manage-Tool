#:kivy 1.10.0
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import hex kivy.utils.get_color_from_hex
#: import utils kivy.utils


<InitScreen>:
    name: "init"
    PageLayout:
        id: page_layout_init_screen
        orientation: 'vertical'
        GridLayout:
            id: grid_layout_init
            cols: 1
            rows: 3
            Label:
                id: lbl_txt_1
                valign: 'middle'
                halign: 'center'
                size_hint: (1.0,0.33)
                font_size: 30
                markup: True
                text: "You have to select on of the following system.\n The system without \"X\" are already installed.\nTo install a system, swap page!"
                size: self.texture_size
                canvas.before:
                    Color:
                        rgba: hex('#971640')
                    Rectangle:
                        pos: self.pos
                        size: self.size
            GridLayout:
                cols: 3
                rows: 4
                padding: 50,50,50,50
                id: home_system_chooser
                canvas.before:
                    Color:
                        rgba: hex('#ffffff')
                    Rectangle:
                        pos: self.pos
                        size: self.size
                Button:
                    disabled: True
                    id: openfisca-france
                    background_color: (1.0,1.0,1.0,0.0)
                    Image:
                        source: 'img/openfisca_system/openfisca-france.png'
                        pos: self.parent.pos
                        size: self.parent.size
                    Image:
                        id: openfisca-france-x
                        source: 'img/openfisca_system/x.png'
                        pos: self.parent.pos[0],self.parent.pos[1]+50
                        size: self.parent.size[0]-50, self.parent.size[1]-50
                Button:
                    disabled: True
                    id: openfisca-italy
                    background_color: (1.0,1.0,1.0,0.0)
                    Image:
                        source: 'img/openfisca_system/openfisca-italy.png'
                        pos: self.parent.pos
                        size: self.parent.size
                    Image:
                        id: openfisca-italy-x
                        source: 'img/openfisca_system/x.png'
                        pos: self.parent.pos[0],self.parent.pos[1]+50
                        size: self.parent.size[0]-50, self.parent.size[1]-50
                Button:
                    disabled: True
                    id: openfisca-barcelona
                    background_color: (1.0,1.0,1.0,0.0)
                    canvas:
                        Color:
                            rgb: 1, 0, 0
                    Image:
                        source: 'img/openfisca_system/openfisca-barcelona.png'
                        pos: self.parent.pos
                        size: self.parent.size
                    Image:
                        id: openfisca-barcelona-x
                        source: 'img/openfisca_system/x.png'
                        pos: self.parent.pos[0],self.parent.pos[1]+50
                        size: self.parent.size[0]-50, self.parent.size[1]-50
                Button:
                    disabled: True
                    id: senegal
                    background_color: (1.0,1.0,1.0,0.0)
                    Image:
                        source: 'img/openfisca_system/senegal.png'
                        pos: self.parent.pos
                        size: self.parent.size
                    Image:
                        id: senegal-x
                        source: 'img/openfisca_system/x.png'
                        pos: self.parent.pos[0],self.parent.pos[1]+50
                        size: self.parent.size[0]-50, self.parent.size[1]-50
                Button:
                    disabled: True
                    id: openfisca-tunisia
                    background_color: (1.0,1.0,1.0,0.0)
                    Image:
                        source: 'img/openfisca_system/openfisca-tunisia.png'
                        pos: self.parent.pos
                        size: self.parent.size
                    Image:
                        id: openfisca-tunisia-x
                        source: 'img/openfisca_system/x.png'
                        pos: self.parent.pos[0],self.parent.pos[1]+50
                        size: self.parent.size[0]-50, self.parent.size[1]-50


        GridLayout:
            cols: 1
            rows: 5
            Label:
                canvas.before:
                    Color:
                        rgba: hex('#FFFFFF')
                    Rectangle:
                        pos: self.pos
                        size: self.size

            FloatLayout:
                pos: self.parent.pos
                size: self.parent.size
                orientation: "horizontal"
                Label:
                    pos: self.parent.pos
                    text: ""
                    canvas.before:
                        Color:
                            rgba: hex('#FFFFFF')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                GridLayout:
                    pos: self.parent.pos
                    size: self.parent.size
                    rows: 1
                    cols: 2
                    Image:
                        source: 'img/openfisca.png'
                    Image:
                        source: 'img/github.png'

            Label:
                id: instructions_downloading_repos
                markup: True
                text: root.download_information
                canvas.before:
                    Color:
                        rgba: hex('#FFFFFF')
                    Rectangle:
                        pos: self.pos
                        size: self.size

            GridLayout:
                id: grid_layout_countries
                pos: self.parent.pos
                size: self.parent.size
                cols: 3
                Button:
                    id: button_france
                    background_normal: "ffffff"
                    on_release: root.download_system(self)
                    Image:
                        source: 'img/flags/france-flag.png'
                        pos: self.parent.pos
                        size: self.parent.size

                Button:
                    id: button_barcelona
                    background_normal: "ffffff"
                    on_release: root.download_system(self)
                    Image:
                        source: 'img/flags/spain-flag.png'
                        pos: self.parent.pos
                        size: self.parent.size

                Button:
                    id: button_italy
                    background_normal: "ffffff"
                    on_release: root.download_system(self)
                    Image:
                        source: 'img/flags/italy-flag.png'
                        pos: self.parent.pos
                        size: self.parent.size

                Label:
                    canvas.before:
                        Color:
                            rgba: hex('#FFFFFF')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    canvas.before:
                        Color:
                            rgba: hex('#FFFFFF')
                        Rectangle:
                            pos: self.pos
                            size: self.size
                Label:
                    canvas.before:
                        Color:
                            rgba: hex('#FFFFFF')
                        Rectangle:
                            pos: self.pos
                            size: self.size

                Button:
                    id: button_senegal
                    background_normal: "ffffff"
                    on_release: root.download_system(self)
                    Image:
                        source: 'img/flags/senegal-flag.png'
                        pos: self.parent.pos
                        size: self.parent.size
                Button:
                    id: button_tunisia
                    background_normal: "ffffff"
                    on_release: root.download_system(self)
                    Image:
                        source: 'img/flags/tunisia-flag.jpg'
                        pos: self.parent.pos
                        size: self.parent.size
                Button:
                    id: empty_button
                    background_normal: "ffffff"

            Label:
                canvas.before:
                    Color:
                        rgba: hex('#FFFFFF')
                    Rectangle:
                        pos: self.pos
                        size: self.size
